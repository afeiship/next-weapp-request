!function(){var e=e||this||window||Function("return this")(),t=e.nx||require("next-js-core2"),n=(t.chunk||require("next-chunk"),{}),r=t.declare("nx.WeappRequest",{statics:{parallel:{limit:10,counter:0},instance:null,getInstance:function(){return this.instance||(this.instance=new this),this.instance}},methods:{getDefaults:function(){return n},getHeaders:function(){return n},setRequestInterceptor:function(e,t,n,r){return n},setResponseInterceptor:function(e,t,n,r){return n},setErrorInterceptor:function(e,t,n,r){return n},parallel:function(e,n,o,u){var s=this,i=r.parallel.counter,c=r.parallel.limit,a=u.complete||t.noop,l=t.mix(u,{complete:function(e){a(e),r.parallel.counter--}});return i<c?(r.parallel.counter++,this.request(e,n,o,l)):new Promise(function(t,r){setTimeout(function(){try{s.parallel(e,n,o,l),t()}catch(e){r(e)}},300)})},request:function(e,n,r,o){var u=this;return new Promise(function(s,i){wx.request(t.mix({header:u.getHeaders(),method:e.toUpperCase(),url:n,data:u.setRequestInterceptor(e,n,r,o),success:function(t){var r=u.setResponseInterceptor(e,n,t,o);s(r)},fail:function(t){var r=u.setErrorInterceptor(e,n,t,o);i(r)}},u.getDefaults(),o))})},"options,get,head,post,put,delete,trace,connect":function(e){var t=this;return function(n,r,o){return t.parallel(e,n,r,o)}}}});"undefined"!=typeof module&&module.exports&&(module.exports=r)}();
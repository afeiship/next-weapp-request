!function(){var e=e||this||window||Function("return this")(),t=e.nx||require("next-js-core2"),n=t.Queue||require("next-queue"),r=t.declare("nx.WeappRequest",{statics:{request:wx.request,instance:null,getInstance:function(){return this.instance||(this.instance=new this),this.instance}},methods:{getDefaults:function(){return{}},getHeaders:function(){return{}},setRequestInterceptor:function(e,t,n,r){return n},setResponseInterceptor:function(e,t,n,r){return n},setErrorInterceptor:function(e,t,n,r){return n},queue:function(e){var t=e.map(function(e){return function(t){e.then(function(e){t(e)})}}),r=new n(t);return new Promise(function(e,t){try{r.start().then(function(t){var n=t.status,r=t.data;"done"===n&&e(r)})}catch(e){t(e)}})},request:function(e,n,u,s){var o=this;return new Promise(function(i,c){r.request(t.mix({header:o.getHeaders(),method:e.toUpperCase(),url:n,data:o.setRequestInterceptor(e,n,u,s),success:function(t){var r=o.setResponseInterceptor(e,n,t,s);i(r)},fail:function(t){var r=o.setErrorInterceptor(e,n,t,s);c(r)}},o.getDefaults(),s))})},"options,get,head,post,put,delete,trace,connect":function(e){return function(t,n,r){return this.request(e,t,n,r)}}}});"undefined"!=typeof module&&module.exports&&(module.exports=r)}();